/*!
 * @author Jan Nejedly support@3b-fly.eu
 * @copyright Jan Nejedly
 * @version 1.0.3
 * @license see license in 'LICENSE' file
*/

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");var bbbfly=bbbfly||{};bbbfly.morph=bbbfly.morph||{};bbbfly.morph.core={};
bbbfly.morph.core._getObjTheme=function(a){if(!Object.isObject(a))return null;var b=this._DefaultTheme;String.isString(a.MorphTheme)&&(b=a.MorphTheme);if(String.isString(b)){if(a=this._Themes[b])return a}else if(1===this._ThemesCnt)for(b in this._Themes)if((a=this._Themes[b])&&a.ID===b)return a;return null};bbbfly.morph.core._setDefaultTheme=function(a){if(!String.isString(a))return!1;this._DefaultTheme=a;return!0};
bbbfly.morph.core._setDefaultStyle=function(a){if(!String.isString(a))return!1;this._DefaultStyle=a;return!0};bbbfly.morph.core._registerTheme=function(a){if(!Object.isObject(a)||!String.isString(a.ID))return!1;this._Themes[a.ID]=a;this._ThemesCnt+=1;return!0};bbbfly.morph.core._getTheme=function(a){a=this._Themes[a];return Object.isObject(a)?a:null};bbbfly.morph.core._registerControlType=function(a,b){String.isString(a)&&Function.isFunction(b)&&(ngRegisterControlType(a,b),this._CtrlTypes[a]=b)};
bbbfly.morph.core._registerObjectType=function(a,b){String.isString(a)&&Function.isFunction(b)&&(this._ObjTypes[a]=b)};bbbfly.morph.core._controlTypeRegistered=function(a){return Object.isObject(a)&&this._CtrlTypes[a.Type]};bbbfly.morph.core._objectTypeRegistered=function(a){if(Object.isObject(a))for(var b in this._ObjTypes)if(a instanceof this._ObjTypes[b])return!0;return!1};bbbfly.morph.core._onInit=function(){for(var a in this._Themes)bbbfly.morph.core._initDefinition(this._Themes[a])};
bbbfly.morph.core._initDefinition=function(a){if(Object.isObject(a)){Function.isFunction(a.OnInit)&&a.OnInit();var b=ngDEBUG?"debug/":"release/";String.isString(a.ImgDir)&&(b+=a.ImgDir);String.isString(a.Lib)&&(b=ngLibPath(a.Lib,b));bbbfly.morph.core._recalcImagePaths(a.Sources,b);bbbfly.morph.core._recalcImageSources(a.Images,a.Sources)}};
bbbfly.morph.core._recalcImagePaths=function(a,b){if(Object.isObject(a)&&String.isString(b))for(var c in a){var d=a[c];if(!Object.isObject(d))break;String.isString(d.Path)&&(d.Path=b+d.Path)}};
bbbfly.morph.core._recalcImageSources=function(a,b){if(Object.isObject(a)){for(var c in a){var d=a[c];"Src"!==c&&Object.isObject(d)&&bbbfly.morph.core._recalcImageSources(d,b)}c=a.Src;Object.isObject(c)&&(a.Src="",String.isString(c.Img)&&Object.isObject(b)&&(b=b[c.Img],Object.isObject(b)&&(String.isString(c.Anchor)&&Object.isObject(b.Anchors)&&bbbfly.morph.core._recalcImageAnchor(a,b.Anchors[c.Anchor]),String.isString(b.Path)&&(a.Src=b.Path))));String.isString(a.Src)&&a.Src&&ng_PreloadImage(a.Src)}};
bbbfly.morph.core._recalcImageAnchor=function(a,b){if(Object.isObject(a)&&Object.isObject(b)){var c=b.L;b=b.T;Number.isInteger(c)||(c=0);Number.isInteger(b)||(b=0);if(0!==c||0!==b)for(var d in a)if(Number.isInteger(a[d])&&bbbfly.Renderer.IsImagePosition(d))switch(d.slice(-1)){case "L":a[d]+=c;break;case "T":a[d]+=b}}};
bbbfly.morph.core._onCreateControl=function(a){if(this.ControlTypeRegistered(a)){var b=this.GetObjTheme(a);b&&Function.isFunction(b.OnCreateControl)&&b.OnCreateControl(a);ng_MergeVarReplace(a,{Data:{MorphTheme:b?b.ID:null}},!0)}};bbbfly.morph.core._onCreateObject=function(a){if(this.ObjectTypeRegistered(a)){var b=this.GetObjTheme(a);b&&Function.isFunction(b.OnCreateObject)&&b.OnCreateObject(a);ng_MergeVarReplace(a,{Data:{MorphTheme:b?b.ID:null}},!0)}};
bbbfly.Morph={_CtrlTypes:{},_ObjTypes:{},_DefaultTheme:null,_ThemesCnt:0,_Themes:{},_DefaultStyle:null,_StylesCnt:0,_Styles:{},SetDefaultTheme:bbbfly.morph.core._setDefaultTheme,RegisterTheme:bbbfly.morph.core._registerTheme,GetTheme:bbbfly.morph.core._getTheme,GetObjTheme:bbbfly.morph.core._getObjTheme,GetObjStyle:bbbfly.morph.core._getObjStyle,RegisterControlType:bbbfly.morph.core._registerControlType,RegisterObjectType:bbbfly.morph.core._registerObjectType,ControlTypeRegistered:bbbfly.morph.core._controlTypeRegistered,
ObjectTypeRegistered:bbbfly.morph.core._objectTypeRegistered,OnInit:bbbfly.morph.core._onInit,OnCreateControl:bbbfly.morph.core._onCreateControl,OnCreateObject:bbbfly.morph.core._onCreateObject};ngUserControls.bbbfly_morph={OnInit:function(){bbbfly.Morph.OnInit()},OnCreateControl:function(a){bbbfly.Morph.OnCreateControl(a);return null}};
